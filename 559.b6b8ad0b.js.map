{"version":3,"file":"js/559.b6b8ad0b.js","mappings":"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","sources":["webpack://farmland-drone-dashboard/./src/views/LoginPage.vue","webpack://farmland-drone-dashboard/./src/views/LoginPage.vue?fce3"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"login-container\">\r\n      <h1>登录</h1>\r\n      <form @submit.prevent=\"handleLogin\" class=\"login-form\">\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"email\"\r\n            v-model=\"form.email\"\r\n            placeholder=\"请输入邮箱\"\r\n            class=\"form-input\"\r\n            required\r\n          />\r\n          <span class=\"error\" v-if=\"errors.email\">{{ errors.email }}</span>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            v-model=\"form.password\"\r\n            placeholder=\"请输入密码\"\r\n            class=\"form-input\"\r\n            required\r\n          />\r\n          <span class=\"error\" v-if=\"errors.password\">{{ errors.password }}</span>\r\n        </div>\r\n\r\n        <div class=\"form-options\">\r\n          <label class=\"remember-me\">\r\n            <input type=\"checkbox\" v-model=\"form.rememberMe\" />\r\n            <span>记住我</span>\r\n          </label>\r\n          <a href=\"#\" class=\"forgot-password\">忘记密码？</a>\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"login-btn\" :disabled=\"loading\">\r\n          {{ loading ? '登录中...' : '登录' }}\r\n        </button>\r\n\r\n        <div class=\"register-link\">\r\n          还没有账号？<router-link to=\"/register\">立即注册</router-link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LoginPage',\r\n  data() {\r\n    return {\r\n      form: {\r\n        email: '',\r\n        password: '',\r\n        rememberMe: false\r\n      },\r\n      errors: {},\r\n      loading: false\r\n    }\r\n  },\r\n  mounted() {\r\n    // 检查是否有保存的登录信息\r\n    if (localStorage.getItem('rememberMe') === 'true') {\r\n      const savedEmail = localStorage.getItem('savedEmail')\r\n      if (savedEmail) {\r\n        this.form.email = savedEmail\r\n        this.form.rememberMe = true\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    validateForm() {\r\n      this.errors = {}\r\n\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      if (!this.form.email) {\r\n        this.errors.email = '邮箱不能为空'\r\n      } else if (!emailRegex.test(this.form.email)) {\r\n        this.errors.email = '请输入有效的邮箱地址'\r\n      }\r\n\r\n      if (!this.form.password) {\r\n        this.errors.password = '密码不能为空'\r\n      }\r\n\r\n      return Object.keys(this.errors).length === 0\r\n    },\r\n\r\n    async handleLogin() {\r\n      if (!this.validateForm()) return\r\n\r\n      this.loading = true\r\n\r\n      try {\r\n        // 模拟API调用 - 替换为实际的API调用\r\n        console.log('登录请求:', this.form)\r\n        \r\n        // 模拟网络延迟\r\n        await new Promise(resolve => setTimeout(resolve, 1000))\r\n        \r\n        // 模拟成功响应\r\n        const mockResponse = {\r\n          data: {\r\n            token: 'mock-jwt-token',\r\n            user: {\r\n              id: 1,\r\n              email: this.form.email,\r\n              username: this.form.email.split('@')[0]\r\n            }\r\n          }\r\n        }\r\n\r\n        // 登录成功处理\r\n        alert('登录成功！')\r\n\r\n        // 保存用户信息\r\n        localStorage.setItem('token', mockResponse.data.token)\r\n        localStorage.setItem('user', JSON.stringify(mockResponse.data.user))\r\n\r\n        // 记住我功能\r\n        if (this.form.rememberMe) {\r\n          localStorage.setItem('rememberMe', 'true')\r\n          localStorage.setItem('savedEmail', this.form.email)\r\n        } else {\r\n          localStorage.removeItem('rememberMe')\r\n          localStorage.removeItem('savedEmail')\r\n        }\r\n\r\n        // 跳转到首页或来源页面\r\n        const redirect = this.$route.query.redirect || '/'\r\n        this.$router.push(redirect)\r\n      } catch (error) {\r\n        console.error('登录错误:', error)\r\n        const message = error.response?.data?.message || '登录失败，请检查邮箱和密码'\r\n        alert(message)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(135deg,  #527056);\r\n  padding: 20px;\r\n}\r\n\r\n.login-container {\r\n  background: white;\r\n  padding: 40px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\r\n  width: 100%;\r\n  max-width: 400px;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  color: #333;\r\n  font-size: 28px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 12px;\r\n  border: 2px solid #e1e5e9;\r\n  border-radius: 6px;\r\n  font-size: 16px;\r\n  transition: border-color 0.3s;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.form-input:focus {\r\n  outline: none;\r\n  border-color: #527056;\r\n}\r\n\r\n.error {\r\n  color: #e74c3c;\r\n  font-size: 14px;\r\n  margin-top: 5px;\r\n  display: block;\r\n}\r\n\r\n.form-options {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.remember-me {\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.remember-me input {\r\n  width: auto;\r\n  margin-right: 8px;\r\n}\r\n\r\n.forgot-password {\r\n  color: #527056;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n}\r\n\r\n.forgot-password:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.login-btn {\r\n  width: 100%;\r\n  padding: 12px;\r\n  background: linear-gradient(135deg, #527056);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.login-btn:hover:not(:disabled) {\r\n  opacity: 0.9;\r\n}\r\n\r\n.login-btn:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.register-link {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n  color: #666;\r\n}\r\n\r\n.register-link a {\r\n  color: #527056;\r\n  text-decoration: none;\r\n}\r\n\r\n.register-link a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>","import { render } from \"./LoginPage.vue?vue&type=template&id=49fda554&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=49fda554&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49fda554\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","handleLogin","_hoisted_3","type","$data","form","email","$event","placeholder","required","errors","_hoisted_4","_toDisplayString","_hoisted_5","password","_hoisted_6","_hoisted_7","_hoisted_8","rememberMe","href","disabled","loading","_hoisted_9","_hoisted_10","_createVNode","_component_router_link","to","name","data","mounted","localStorage","getItem","savedEmail","this","methods","validateForm","emailRegex","test","Object","keys","length","console","log","Promise","resolve","setTimeout","mockResponse","token","user","id","username","split","alert","setItem","JSON","stringify","removeItem","redirect","$route","query","$router","push","error","message","response","__exports__","render"],"sourceRoot":""}