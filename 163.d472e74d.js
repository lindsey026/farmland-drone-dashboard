"use strict";(self["webpackChunkfarmland_drone_dashboard"]=self["webpackChunkfarmland_drone_dashboard"]||[]).push([[163],{7163:function(r,s,e){e.r(s),e.d(s,{default:function(){return L}});var o=e(6768),a=e(5130),t=e(4232);const i={class:"register-page"},n={class:"register-container"},l={class:"form-group"},m={key:0,class:"error"},d={class:"form-group"},u={key:0,class:"error"},c={class:"form-group"},f={key:0,class:"error"},p={class:"form-group"},h={key:0,class:"error"},g=["disabled"],k={class:"login-link"};function w(r,s,e,w,v,b){const y=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",n,[s[7]||(s[7]=(0,o.Lk)("h1",null,"注册",-1)),(0,o.Lk)("form",{onSubmit:s[4]||(s[4]=(0,a.D$)((...r)=>b.handleRegister&&b.handleRegister(...r),["prevent"])),class:"register-form"},[(0,o.Lk)("div",l,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>v.form.username=r),placeholder:"请输入用户名",class:"form-input",required:""},null,512),[[a.Jo,v.form.username]]),v.errors.username?((0,o.uX)(),(0,o.CE)("span",m,(0,t.v_)(v.errors.username),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",d,[(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=r=>v.form.email=r),placeholder:"请输入邮箱",class:"form-input",required:""},null,512),[[a.Jo,v.form.email]]),v.errors.email?((0,o.uX)(),(0,o.CE)("span",u,(0,t.v_)(v.errors.email),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",c,[(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=r=>v.form.password=r),placeholder:"请输入密码",class:"form-input",required:""},null,512),[[a.Jo,v.form.password]]),v.errors.password?((0,o.uX)(),(0,o.CE)("span",f,(0,t.v_)(v.errors.password),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",p,[(0,o.bo)((0,o.Lk)("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=r=>v.form.confirmPassword=r),placeholder:"请确认密码",class:"form-input",required:""},null,512),[[a.Jo,v.form.confirmPassword]]),v.errors.confirmPassword?((0,o.uX)(),(0,o.CE)("span",h,(0,t.v_)(v.errors.confirmPassword),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{type:"submit",class:"register-btn",disabled:v.loading},(0,t.v_)(v.loading?"注册中...":"注册"),9,g),(0,o.Lk)("div",k,[s[6]||(s[6]=(0,o.eW)(" 已有账号？",-1)),(0,o.bF)(y,{to:"/login"},{default:(0,o.k6)(()=>[...s[5]||(s[5]=[(0,o.eW)("立即登录",-1)])]),_:1})])],32)])])}e(4114);var v={name:"RegisterPage",data(){return{form:{username:"",email:"",password:"",confirmPassword:""},errors:{},loading:!1}},methods:{validateForm(){this.errors={},this.form.username.trim()?this.form.username.length<3&&(this.errors.username="用户名至少3个字符"):this.errors.username="用户名不能为空";const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return this.form.email?r.test(this.form.email)||(this.errors.email="请输入有效的邮箱地址"):this.errors.email="邮箱不能为空",this.form.password?this.form.password.length<6&&(this.errors.password="密码至少6个字符"):this.errors.password="密码不能为空",this.form.confirmPassword?this.form.password!==this.form.confirmPassword&&(this.errors.confirmPassword="两次输入的密码不一致"):this.errors.confirmPassword="请确认密码",0===Object.keys(this.errors).length},async handleRegister(){if(this.validateForm()){this.loading=!0;try{console.log("注册请求:",this.form),await new Promise(r=>setTimeout(r,1e3));const r={data:{token:"mock-jwt-token",user:{id:1,username:this.form.username,email:this.form.email}}};alert("注册成功！"),localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user)),this.$router.push("/")}catch(r){console.error("注册错误:",r);const s=r.response?.data?.message||"注册失败，请重试";alert(s)}finally{this.loading=!1}}}}},b=e(1241);const y=(0,b.A)(v,[["render",w],["__scopeId","data-v-2a1a0e62"]]);var L=y}}]);
//# sourceMappingURL=163.d472e74d.js.map