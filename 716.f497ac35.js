"use strict";(self["webpackChunkfarmland_drone_dashboard"]=self["webpackChunkfarmland_drone_dashboard"]||[]).push([[716],{3716:function(s,e,a){a.r(e),a.d(e,{default:function(){return us}});var t=a(6768),o=a(4232),i=a(5130);const l={class:"settings-container"},n={class:"settings-header"},c={class:"settings-tabs"},r=["onClick"],u={class:"settings-content"},d={key:0,class:"settings-section"},k={class:"form-grid"},f={class:"form-group"},g=["disabled"],p={class:"form-group"},m=["disabled"],h={class:"form-group"},L=["disabled"],b={class:"form-group"},v=["disabled"],y={class:"form-group full-width"},C=["disabled"],w={class:"form-actions"},x={key:1},U={key:1,class:"settings-section"},I={class:"form-grid"},T={class:"form-group"},E={class:"form-group"},S={class:"range-value"},V={class:"form-group"},P={class:"form-group"},H={class:"form-group full-width"},J={class:"range-value"},W={class:"notification-settings"},_={class:"checkbox-group"},X={class:"checkbox-item"},A={class:"checkbox-item"},N={class:"checkbox-item"},z={class:"checkbox-item"},M={key:2,class:"settings-section"},R={class:"form-group"},Q={class:"password-change"},Z={class:"permission-settings"},D={class:"checkbox-group"},F={class:"checkbox-item"},B={class:"checkbox-item"},G={class:"checkbox-item"},O={class:"checkbox-item"},K={key:3,class:"settings-section"},j={class:"storage-info"},q={class:"storage-item"},Y={class:"storage-bar"},$={class:"storage-text"},ss={class:"data-actions"},es={class:"action-cards"},as={class:"action-card"},ts={class:"action-card"},os={class:"action-card"},is={key:4,class:"bottom-actions"};function ls(s,e,a,ls,ns,cs){return(0,t.uX)(),(0,t.CE)("div",l,[(0,t.Lk)("div",n,[e[30]||(e[30]=(0,t.Lk)("h1",null,[(0,t.Lk)("i",{class:"fa fa-cog"}),(0,t.eW)(" 系统设置")],-1)),(0,t.Lk)("div",c,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(ns.tabs,s=>((0,t.uX)(),(0,t.CE)("button",{key:s.id,class:(0,o.C4)(["tab-btn",{active:ns.activeTab===s.id}]),onClick:e=>ns.activeTab=s.id},[(0,t.Lk)("i",{class:(0,o.C4)(s.icon)},null,2),(0,t.eW)(" "+(0,o.v_)(s.name),1)],10,r))),128))])]),(0,t.Lk)("div",u,["user"===ns.activeTab?((0,t.uX)(),(0,t.CE)("div",d,[e[39]||(e[39]=(0,t.Lk)("h2",null,"用户信息管理",-1)),(0,t.Lk)("div",k,[(0,t.Lk)("div",f,[e[31]||(e[31]=(0,t.Lk)("label",null,"用户名:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>ns.userInfo.username=s),placeholder:"请输入用户名",disabled:!ns.isEditing},null,8,g),[[i.Jo,ns.userInfo.username]])]),(0,t.Lk)("div",p,[e[32]||(e[32]=(0,t.Lk)("label",null,"邮箱:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=s=>ns.userInfo.email=s),placeholder:"请输入邮箱",disabled:!ns.isEditing},null,8,m),[[i.Jo,ns.userInfo.email]])]),(0,t.Lk)("div",h,[e[33]||(e[33]=(0,t.Lk)("label",null,"真实姓名:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>ns.userInfo.realName=s),placeholder:"请输入真实姓名",disabled:!ns.isEditing},null,8,L),[[i.Jo,ns.userInfo.realName]])]),(0,t.Lk)("div",b,[e[34]||(e[34]=(0,t.Lk)("label",null,"联系电话:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"tel","onUpdate:modelValue":e[3]||(e[3]=s=>ns.userInfo.phone=s),placeholder:"请输入联系电话",disabled:!ns.isEditing},null,8,v),[[i.Jo,ns.userInfo.phone]])]),(0,t.Lk)("div",y,[e[35]||(e[35]=(0,t.Lk)("label",null,"单位/农场:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=s=>ns.userInfo.organization=s),placeholder:"请输入单位或农场名称",disabled:!ns.isEditing},null,8,C),[[i.Jo,ns.userInfo.organization]])])]),(0,t.Lk)("div",w,[ns.isEditing?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("button",{class:"btn-save",onClick:e[6]||(e[6]=(...s)=>cs.saveUserInfo&&cs.saveUserInfo(...s))},[...e[37]||(e[37]=[(0,t.Lk)("i",{class:"fa fa-save"},null,-1),(0,t.eW)(" 保存 ",-1)])]),(0,t.Lk)("button",{class:"btn-cancel",onClick:e[7]||(e[7]=(...s)=>cs.cancelEdit&&cs.cancelEdit(...s))},[...e[38]||(e[38]=[(0,t.Lk)("i",{class:"fa fa-times"},null,-1),(0,t.eW)(" 取消 ",-1)])])])):((0,t.uX)(),(0,t.CE)("button",{key:0,class:"btn-edit",onClick:e[5]||(e[5]=s=>ns.isEditing=!0)},[...e[36]||(e[36]=[(0,t.Lk)("i",{class:"fa fa-pencil"},null,-1),(0,t.eW)(" 编辑信息 ",-1)])]))])])):(0,t.Q3)("",!0),"system"===ns.activeTab?((0,t.uX)(),(0,t.CE)("div",U,[e[51]||(e[51]=(0,t.Lk)("h2",null,"系统参数配置",-1)),(0,t.Lk)("div",I,[(0,t.Lk)("div",T,[e[41]||(e[41]=(0,t.Lk)("label",null,"语言设置:",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>ns.systemConfig.language=s)},[...e[40]||(e[40]=[(0,t.Lk)("option",{value:"zh-CN"},"简体中文",-1),(0,t.Lk)("option",{value:"en-US"},"English",-1),(0,t.Lk)("option",{value:"zh-TW"},"繁体中文",-1)])],512),[[i.u1,ns.systemConfig.language]])]),(0,t.Lk)("div",E,[e[42]||(e[42]=(0,t.Lk)("label",null,"数据刷新频率(秒):",-1)),(0,t.bo)((0,t.Lk)("input",{type:"range","onUpdate:modelValue":e[9]||(e[9]=s=>ns.systemConfig.refreshInterval=s),min:"5",max:"300",step:"5"},null,512),[[i.Jo,ns.systemConfig.refreshInterval]]),(0,t.Lk)("span",S,(0,o.v_)(ns.systemConfig.refreshInterval)+"秒",1)]),(0,t.Lk)("div",V,[e[43]||(e[43]=(0,t.Lk)("label",null,"默认作业高度(米):",-1)),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":e[10]||(e[10]=s=>ns.systemConfig.defaultHeight=s),min:"1",max:"50",step:"0.5"},null,512),[[i.Jo,ns.systemConfig.defaultHeight]])]),(0,t.Lk)("div",P,[e[44]||(e[44]=(0,t.Lk)("label",null,"默认飞行速度(米/秒):",-1)),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":e[11]||(e[11]=s=>ns.systemConfig.defaultSpeed=s),min:"1",max:"15",step:"0.5"},null,512),[[i.Jo,ns.systemConfig.defaultSpeed]])]),(0,t.Lk)("div",H,[e[45]||(e[45]=(0,t.Lk)("label",null,"地图默认缩放级别:",-1)),(0,t.bo)((0,t.Lk)("input",{type:"range","onUpdate:modelValue":e[12]||(e[12]=s=>ns.systemConfig.mapZoomLevel=s),min:"8",max:"18",step:"1"},null,512),[[i.Jo,ns.systemConfig.mapZoomLevel]]),(0,t.Lk)("span",J,(0,o.v_)(ns.systemConfig.mapZoomLevel),1)])]),(0,t.Lk)("div",W,[e[50]||(e[50]=(0,t.Lk)("h3",null,"通知设置",-1)),(0,t.Lk)("div",_,[(0,t.Lk)("label",X,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=s=>ns.systemConfig.notifications.taskStatus=s)},null,512),[[i.lH,ns.systemConfig.notifications.taskStatus]]),e[46]||(e[46]=(0,t.Lk)("span",null,"任务状态变更通知",-1))]),(0,t.Lk)("label",A,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=s=>ns.systemConfig.notifications.deviceAlert=s)},null,512),[[i.lH,ns.systemConfig.notifications.deviceAlert]]),e[47]||(e[47]=(0,t.Lk)("span",null,"设备异常告警",-1))]),(0,t.Lk)("label",N,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[15]||(e[15]=s=>ns.systemConfig.notifications.dataReport=s)},null,512),[[i.lH,ns.systemConfig.notifications.dataReport]]),e[48]||(e[48]=(0,t.Lk)("span",null,"数据报告提醒",-1))]),(0,t.Lk)("label",z,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[16]||(e[16]=s=>ns.systemConfig.notifications.maintenance=s)},null,512),[[i.lH,ns.systemConfig.notifications.maintenance]]),e[49]||(e[49]=(0,t.Lk)("span",null,"维护保养提醒",-1))])])])])):(0,t.Q3)("",!0),"security"===ns.activeTab?((0,t.uX)(),(0,t.CE)("div",M,[e[60]||(e[60]=(0,t.Lk)("h2",null,"安全与权限设置",-1)),(0,t.Lk)("div",R,[e[53]||(e[53]=(0,t.Lk)("label",null,"修改密码:",-1)),(0,t.Lk)("div",Q,[(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":e[17]||(e[17]=s=>ns.securityConfig.oldPassword=s),placeholder:"原密码"},null,512),[[i.Jo,ns.securityConfig.oldPassword]]),(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":e[18]||(e[18]=s=>ns.securityConfig.newPassword=s),placeholder:"新密码"},null,512),[[i.Jo,ns.securityConfig.newPassword]]),(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":e[19]||(e[19]=s=>ns.securityConfig.confirmPassword=s),placeholder:"确认新密码"},null,512),[[i.Jo,ns.securityConfig.confirmPassword]])]),(0,t.Lk)("button",{class:"btn-change-password",onClick:e[20]||(e[20]=(...s)=>cs.changePassword&&cs.changePassword(...s))},[...e[52]||(e[52]=[(0,t.Lk)("i",{class:"fa fa-key"},null,-1),(0,t.eW)(" 修改密码 ",-1)])])]),(0,t.Lk)("div",Z,[e[58]||(e[58]=(0,t.Lk)("h3",null,"操作权限",-1)),(0,t.Lk)("div",D,[(0,t.Lk)("label",F,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=s=>ns.securityConfig.permissions.taskCreate=s),disabled:""},null,512),[[i.lH,ns.securityConfig.permissions.taskCreate]]),e[54]||(e[54]=(0,t.Lk)("span",null,"创建任务权限",-1))]),(0,t.Lk)("label",B,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=s=>ns.securityConfig.permissions.deviceControl=s),disabled:""},null,512),[[i.lH,ns.securityConfig.permissions.deviceControl]]),e[55]||(e[55]=(0,t.Lk)("span",null,"设备控制权限",-1))]),(0,t.Lk)("label",G,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[23]||(e[23]=s=>ns.securityConfig.permissions.dataExport=s),disabled:""},null,512),[[i.lH,ns.securityConfig.permissions.dataExport]]),e[56]||(e[56]=(0,t.Lk)("span",null,"数据导出权限",-1))]),(0,t.Lk)("label",O,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[24]||(e[24]=s=>ns.securityConfig.permissions.userManage=s),disabled:""},null,512),[[i.lH,ns.securityConfig.permissions.userManage]]),e[57]||(e[57]=(0,t.Lk)("span",null,"用户管理权限",-1))])]),e[59]||(e[59]=(0,t.Lk)("p",{class:"permission-note"},[(0,t.Lk)("i",{class:"fa fa-info-circle"}),(0,t.eW)(" 部分权限需要管理员授权才能修改")],-1))])])):(0,t.Q3)("",!0),"data"===ns.activeTab?((0,t.uX)(),(0,t.CE)("div",K,[e[75]||(e[75]=(0,t.Lk)("h2",null,"数据管理",-1)),(0,t.Lk)("div",j,[(0,t.Lk)("div",q,[e[61]||(e[61]=(0,t.Lk)("div",{class:"storage-label"},"存储空间使用情况",-1)),(0,t.Lk)("div",Y,[(0,t.Lk)("div",{class:"storage-progress",style:(0,o.Tr)({width:cs.storageUsage+"%"})},null,4)]),(0,t.Lk)("div",$,(0,o.v_)((ns.storageUsed/1024).toFixed(2))+"GB / "+(0,o.v_)((ns.storageTotal/1024).toFixed(2))+"GB",1)])]),(0,t.Lk)("div",ss,[e[74]||(e[74]=(0,t.Lk)("h3",null,"数据操作",-1)),(0,t.Lk)("div",es,[(0,t.Lk)("div",as,[e[63]||(e[63]=(0,t.Lk)("div",{class:"action-icon backup"},[(0,t.Lk)("i",{class:"fa fa-database"})],-1)),e[64]||(e[64]=(0,t.Lk)("h4",null,"备份数据",-1)),e[65]||(e[65]=(0,t.Lk)("p",null,"创建当前所有数据的备份",-1)),(0,t.Lk)("button",{class:"btn-action",onClick:e[25]||(e[25]=(...s)=>cs.backupData&&cs.backupData(...s))},[...e[62]||(e[62]=[(0,t.Lk)("i",{class:"fa fa-download"},null,-1),(0,t.eW)(" 立即备份 ",-1)])])]),(0,t.Lk)("div",ts,[e[67]||(e[67]=(0,t.Lk)("div",{class:"action-icon clear"},[(0,t.Lk)("i",{class:"fa fa-trash"})],-1)),e[68]||(e[68]=(0,t.Lk)("h4",null,"清理历史",-1)),e[69]||(e[69]=(0,t.Lk)("p",null,"清理3个月前的历史数据",-1)),(0,t.Lk)("button",{class:"btn-action",onClick:e[26]||(e[26]=(...s)=>cs.clearHistory&&cs.clearHistory(...s))},[...e[66]||(e[66]=[(0,t.Lk)("i",{class:"fa fa-broom"},null,-1),(0,t.eW)(" 清理数据 ",-1)])])]),(0,t.Lk)("div",os,[e[71]||(e[71]=(0,t.Lk)("div",{class:"action-icon export"},[(0,t.Lk)("i",{class:"fa fa-file-excel-o"})],-1)),e[72]||(e[72]=(0,t.Lk)("h4",null,"导出报表",-1)),e[73]||(e[73]=(0,t.Lk)("p",null,"导出作业数据统计报表",-1)),(0,t.Lk)("button",{class:"btn-action",onClick:e[27]||(e[27]=(...s)=>cs.exportReport&&cs.exportReport(...s))},[...e[70]||(e[70]=[(0,t.Lk)("i",{class:"fa fa-file-text-o"},null,-1),(0,t.eW)(" 导出Excel ",-1)])])])])])])):(0,t.Q3)("",!0),"user"!==ns.activeTab?((0,t.uX)(),(0,t.CE)("div",is,[(0,t.Lk)("button",{class:"btn-save-all",onClick:e[28]||(e[28]=(...s)=>cs.saveAllSettings&&cs.saveAllSettings(...s))},[...e[76]||(e[76]=[(0,t.Lk)("i",{class:"fa fa-save"},null,-1),(0,t.eW)(" 保存所有设置 ",-1)])]),(0,t.Lk)("button",{class:"btn-reset",onClick:e[29]||(e[29]=(...s)=>cs.resetSettings&&cs.resetSettings(...s))},[...e[77]||(e[77]=[(0,t.Lk)("i",{class:"fa fa-refresh"},null,-1),(0,t.eW)(" 恢复默认设置 ",-1)])])])):(0,t.Q3)("",!0)]),ns.showMessage?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,o.C4)(["message-toast",ns.messageType])},(0,o.v_)(ns.message),3)):(0,t.Q3)("",!0)])}var ns={name:"DroneSettings",data(){return{tabs:[{id:"user",name:"用户信息",icon:"fa-user"},{id:"system",name:"系统配置",icon:"fa-cog"},{id:"security",name:"安全设置",icon:"fa-shield"},{id:"data",name:"数据管理",icon:"fa-database"}],activeTab:"user",userInfo:{username:"admin",email:"admin@example.com",realName:"管理员",phone:"13800138000",organization:"智慧农场"},isEditing:!1,originalUserInfo:{},systemConfig:{language:"zh-CN",refreshInterval:30,defaultHeight:10,defaultSpeed:5,mapZoomLevel:14,notifications:{taskStatus:!0,deviceAlert:!0,dataReport:!0,maintenance:!0}},securityConfig:{oldPassword:"",newPassword:"",confirmPassword:"",permissions:{taskCreate:!0,deviceControl:!0,dataExport:!0,userManage:!0}},storageUsed:1280,storageTotal:5120,showMessage:!1,message:"",messageType:"success"}},computed:{storageUsage(){return this.storageUsed/this.storageTotal*100}},mounted(){this.originalUserInfo={...this.userInfo},this.loadSettings()},methods:{loadSettings(){try{const s=localStorage.getItem("droneSystemSettings");if(s){const e=JSON.parse(s);this.systemConfig={...this.systemConfig,...e}}}catch(s){console.error("加载设置失败:",s)}},saveUserInfo(){this.userInfo.username&&this.userInfo.email?(console.log("保存用户信息:",this.userInfo),this.originalUserInfo={...this.userInfo},this.isEditing=!1,this.showToast("用户信息保存成功","success")):this.showToast("用户名和邮箱不能为空","error")},cancelEdit(){this.userInfo={...this.originalUserInfo},this.isEditing=!1},changePassword(){this.securityConfig.oldPassword&&this.securityConfig.newPassword?this.securityConfig.newPassword===this.securityConfig.confirmPassword?(console.log("修改密码"),this.securityConfig.oldPassword="",this.securityConfig.newPassword="",this.securityConfig.confirmPassword="",this.showToast("密码修改成功","success")):this.showToast("两次输入的新密码不一致","error"):this.showToast("请填写密码信息","error")},saveAllSettings(){const s={...this.systemConfig};localStorage.setItem("droneSystemSettings",JSON.stringify(s)),console.log("保存系统设置:",s),this.showToast("所有设置已保存","success")},resetSettings(){confirm("确定要恢复默认设置吗？这将清除您的自定义配置。")&&(localStorage.removeItem("droneSystemSettings"),this.systemConfig={language:"zh-CN",refreshInterval:30,defaultHeight:10,defaultSpeed:5,mapZoomLevel:14,notifications:{taskStatus:!0,deviceAlert:!0,dataReport:!0,maintenance:!0}},this.showToast("已恢复默认设置","success"))},backupData(){this.showToast("数据备份开始，请稍候...","info"),setTimeout(()=>{this.showToast("数据备份完成","success")},1500)},clearHistory(){confirm("确定要清理3个月前的历史数据吗？此操作不可恢复。")&&(this.showToast("历史数据清理中，请稍候...","info"),setTimeout(()=>{this.storageUsed=820,this.showToast("历史数据清理完成","success")},2e3))},exportReport(){this.showToast("正在生成报表，请稍候...","info"),setTimeout(()=>{this.showToast("报表导出成功","success")},1500)},showToast(s,e="success"){this.message=s,this.messageType=e,this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},3e3)}}},cs=a(1241);const rs=(0,cs.A)(ns,[["render",ls],["__scopeId","data-v-31283be6"]]);var us=rs}}]);
//# sourceMappingURL=716.f497ac35.js.map