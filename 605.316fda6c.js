"use strict";(self["webpackChunkfarmland_drone_dashboard"]=self["webpackChunkfarmland_drone_dashboard"]||[]).push([[605],{655:function(a,e,s){var t=s(6955),i=String;a.exports=function(a){if("Symbol"===t(a))throw new TypeError("Cannot convert a Symbol value to a string");return i(a)}},2812:function(a){var e=TypeError;a.exports=function(a,s){if(a<s)throw new e("Not enough arguments");return a}},4603:function(a,e,s){var t=s(6840),i=s(9504),l=s(655),n=s(2812),r=URLSearchParams,c=r.prototype,d=i(c.append),o=i(c["delete"]),u=i(c.forEach),p=i([].push),b=new r("a=1&a=2&b=3");b["delete"]("a",1),b["delete"]("b",void 0),b+""!=="a=2"&&t(c,"delete",function(a){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return o(this,a);var t=[];u(this,function(a,e){p(t,{key:e,value:a})}),n(e,1);var i,r=l(a),c=l(s),b=0,h=0,v=!1,k=t.length;while(b<k)i=t[b++],v||i.key===r?(v=!0,o(this,i.key)):h++;while(h<k)i=t[h++],i.key===r&&i.value===c||d(this,i.key,i.value)},{enumerable:!0,unsafe:!0})},7566:function(a,e,s){var t=s(6840),i=s(9504),l=s(655),n=s(2812),r=URLSearchParams,c=r.prototype,d=i(c.getAll),o=i(c.has),u=new r("a=1");!u.has("a",2)&&u.has("a",void 0)||t(c,"has",function(a){var e=arguments.length,s=e<2?void 0:arguments[1];if(e&&void 0===s)return o(this,a);var t=d(this,a);n(e,1);var i=l(s),r=0;while(r<t.length)if(t[r++]===i)return!0;return!1},{enumerable:!0,unsafe:!0})},7605:function(a,e,s){s.r(e),s.d(e,{default:function(){return z}});var t=s(6768),i=s(4232),l=s(5130);const n={class:"disease-detection-container"},r={class:"detection-tabs"},c={class:"detection-content"},d={key:0,class:"tab-content aerial-tab"},o={class:"upload-section"},u={key:0,class:"upload-placeholder"},p={key:1,class:"file-list"},b=["onClick"],h=["disabled"],v={key:0,class:"fa fa-spinner fa-spin"},k={key:0,class:"aerial-result-section"},f={class:"result-layout"},m={class:"map-wrapper"},g={class:"map-controls"},y={class:"action-panel"},L={class:"task-generation"},C={class:"button-group"},A={class:"human-feedback"},I={key:1,class:"tab-content single-tab"},w={class:"single-mode-layout"},T={class:"phone-mockup"},D=["src"],R={key:1,class:"placeholder"},x={key:0,class:"diagnosis-card"};function E(a,e,s,E,F,M){return(0,t.uX)(),(0,t.CE)("div",n,[e[32]||(e[32]=(0,t.Lk)("div",{class:"section-header"},[(0,t.Lk)("h2",null,"AI å†œæƒ…å·¡æŸ¥ä¸ç²¾å‡†å¤„æ–¹ç³»ç»Ÿ"),(0,t.Lk)("p",null,"ç‰ˆæœ¬: Model-Agri-V4.2 | è®­ç»ƒé›†: 50ä¸‡+ æ ‡æ³¨æ ·æœ¬ | å‡†ç¡®ç‡: 96.5%")],-1)),(0,t.Lk)("div",r,[(0,t.Lk)("button",{class:(0,i.C4)(["tab-button",{active:"aerial"===F.activeTab}]),onClick:e[0]||(e[0]=a=>F.activeTab="aerial")},[...e[17]||(e[17]=[(0,t.Lk)("i",{class:"fa fa-map"},null,-1),(0,t.eW)(" èˆªæµ‹åŒºåŸŸè¯Šæ–­ (VRT) ",-1)])],2),(0,t.Lk)("button",{class:(0,i.C4)(["tab-button",{active:"single"===F.activeTab}]),onClick:e[1]||(e[1]=a=>F.activeTab="single")},[...e[18]||(e[18]=[(0,t.Lk)("i",{class:"fa fa-leaf"},null,-1),(0,t.eW)(" å•æ ª/å¶ç‰‡å¿«æ£€ ",-1)])],2)]),(0,t.Lk)("div",c,["aerial"===F.activeTab?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.Lk)("div",o,[(0,t.Lk)("div",{class:"upload-box",onClick:e[4]||(e[4]=e=>a.$refs.aerialInput.click()),onDrop:e[5]||(e[5]=(0,l.D$)((...a)=>M.handleDrop&&M.handleDrop(...a),["prevent"])),onDragover:e[6]||(e[6]=(0,l.D$)(()=>{},["prevent"]))},[(0,t.Lk)("input",{type:"file",ref:"aerialInput",multiple:"",accept:".tif,.tiff,.jpg,.png",onChange:e[2]||(e[2]=(...a)=>M.handleAerialFiles&&M.handleAerialFiles(...a)),style:{display:"none"}},null,544),0===F.files.length?((0,t.uX)(),(0,t.CE)("div",u,[...e[19]||(e[19]=[(0,t.Lk)("i",{class:"fa fa-cloud-upload-alt"},null,-1),(0,t.Lk)("p",null,"ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å¤šå¼ èˆªæµ‹å›¾ (RGB/å¤šå…‰è°±)",-1),(0,t.Lk)("small",{class:"hint-text"},[(0,t.Lk)("i",{class:"fa fa-lightbulb"}),(0,t.eW)(" å»ºè®®ä¸Šä¼ æ‹¼æ¥åçš„æ­£å°„å½±åƒæˆ– NDVI å›¾ä»¥è·å¾—æœ€ä½³æ•ˆæœ")],-1)])])):((0,t.uX)(),(0,t.CE)("div",p,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(F.files,(a,s)=>((0,t.uX)(),(0,t.CE)("div",{key:s,class:"file-item"},[e[20]||(e[20]=(0,t.Lk)("i",{class:"fa fa-file-image"},null,-1)),(0,t.eW)(" "+(0,i.v_)(a.name)+" ",1),(0,t.Lk)("span",{class:"remove-x",onClick:(0,l.D$)(a=>M.removeFile(s),["stop"])},"Ã—",8,b)]))),128)),(0,t.Lk)("button",{class:"add-more",onClick:e[3]||(e[3]=(0,l.D$)(e=>a.$refs.aerialInput.click(),["stop"]))},"+ æ·»åŠ æ›´å¤š")]))],32),(0,t.Lk)("button",{class:"analyze-button",onClick:e[7]||(e[7]=(...a)=>M.startAnalysis&&M.startAnalysis(...a)),disabled:0===F.files.length||F.isAnalyzing},[F.isAnalyzing?((0,t.uX)(),(0,t.CE)("i",v)):(0,t.Q3)("",!0),(0,t.eW)(" "+(0,i.v_)(F.isAnalyzing?"AI è¯Šæ–­è®¡ç®—ä¸­...":"å¼€å§‹æ‰¹é‡è¯Šæ–­"),1)],8,h)]),F.resultReady?((0,t.uX)(),(0,t.CE)("div",k,[e[29]||(e[29]=(0,t.Lk)("h3",{class:"result-title"},[(0,t.eW)(" è¯Šæ–­ç»“æœåˆ†æ "),(0,t.Lk)("span",{class:"confidence-badge"},"ç½®ä¿¡åº¦: 94.2%")],-1)),(0,t.Lk)("div",f,[(0,t.Lk)("div",m,[e[24]||(e[24]=(0,t.Lk)("div",{id:"diseaseMap",class:"map-container"},null,-1)),(0,t.Lk)("div",g,[(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=a=>F.layers.rgb=a),checked:""},null,512),[[l.lH,F.layers.rgb]]),e[21]||(e[21]=(0,t.eW)(" å¯è§å…‰",-1))]),(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=a=>F.layers.heatmap=a),checked:""},null,512),[[l.lH,F.layers.heatmap]]),e[22]||(e[22]=(0,t.eW)(" ç—…å®³çƒ­åŠ›å›¾",-1))]),(0,t.Lk)("label",null,[(0,t.bo)((0,t.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=a=>F.layers.grid=a)},null,512),[[l.lH,F.layers.grid]]),e[23]||(e[23]=(0,t.eW)(" ä½œä¸šç½‘æ ¼",-1))])])]),(0,t.Lk)("div",y,[e[28]||(e[28]=(0,t.Fv)('<div class="disease-list" data-v-b84477be><h4 data-v-b84477be>æ£€æµ‹åˆ°çš„å¨èƒ</h4><div class="disease-item high-risk" data-v-b84477be><div class="d-header" data-v-b84477be><span data-v-b84477be><i class="fa fa-bug" data-v-b84477be></i> ç¨»é£è™± (é‡åº¦)</span><span class="d-percent" data-v-b84477be>15% åŒºåŸŸ</span></div><p data-v-b84477be>å»ºè®®ï¼šç«‹å³è¿›è¡Œé«˜æµ“åº¦ç‚¹å–·</p></div><div class="disease-item medium-risk" data-v-b84477be><div class="d-header" data-v-b84477be><span data-v-b84477be><i class="fa fa-biohazard" data-v-b84477be></i> çº¹æ¯ç—… (æ—©æœŸ)</span><span class="d-percent" data-v-b84477be>30% åŒºåŸŸ</span></div><p data-v-b84477be>å»ºè®®ï¼šæ ‡å‡†å‰‚é‡å…¨é¢å–·æ´’é¢„é˜²</p></div></div>',1)),(0,t.Lk)("div",L,[e[25]||(e[25]=(0,t.Lk)("h4",null,[(0,t.Lk)("i",{class:"fa fa-paper-plane"}),(0,t.eW)(" æ¤ä¿ä»»åŠ¡ç”Ÿæˆ")],-1)),e[26]||(e[26]=(0,t.Lk)("p",{class:"task-summary"},"å·²ç”Ÿæˆ 2 ä¸ª VRT å˜é‡ä½œä¸šå¤„æ–¹",-1)),(0,t.Lk)("div",C,[(0,t.Lk)("button",{class:"btn-primary",onClick:e[11]||(e[11]=(...a)=>M.sendToDrone&&M.sendToDrone(...a))}," åŒæ­¥è‡³æ¤ä¿æœº (T40/T50) "),(0,t.Lk)("button",{class:"btn-outline",onClick:e[12]||(e[12]=(...a)=>M.exportPrescription&&M.exportPrescription(...a))}," å¯¼å‡ºå¤„æ–¹å›¾ (Shapefile) ")])]),(0,t.Lk)("div",A,[e[27]||(e[27]=(0,t.Lk)("p",null,"ç»“æœå‡†ç¡®å—ï¼Ÿ",-1)),(0,t.Lk)("button",{class:"btn-tiny",onClick:e[13]||(e[13]=a=>M.submitFeedback(!0))},"ğŸ‘ å‡†ç¡®"),(0,t.Lk)("button",{class:"btn-tiny",onClick:e[14]||(e[14]=a=>M.submitFeedback(!1))},"ğŸ‘ è¯¯æŠ¥")])])])])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),"single"===F.activeTab?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.Lk)("div",w,[(0,t.Lk)("div",T,[(0,t.Lk)("div",{class:"upload-zone",onClick:e[16]||(e[16]=e=>a.$refs.singleInput.click())},[(0,t.Lk)("input",{type:"file",ref:"singleInput",accept:"image/*",onChange:e[15]||(e[15]=(...a)=>M.handleSingleFile&&M.handleSingleFile(...a)),hidden:""},null,544),F.singleImage?((0,t.uX)(),(0,t.CE)("img",{key:0,src:F.singleImage,class:"preview-img"},null,8,D)):((0,t.uX)(),(0,t.CE)("div",R,[...e[30]||(e[30]=[(0,t.Lk)("i",{class:"fa fa-camera"},null,-1),(0,t.Lk)("p",null,"ä¸Šä¼ æ‰‹æœºæ‹æ‘„å›¾ç‰‡",-1)])]))])]),F.singleResult?((0,t.uX)(),(0,t.CE)("div",x,[...e[31]||(e[31]=[(0,t.Fv)('<h4 data-v-b84477be>è¯Šæ–­æŠ¥å‘Š</h4><div class="diagnosis-main" data-v-b84477be><span class="disease-name text-danger" data-v-b84477be>ç¨»ç˜Ÿç—… (å¶ç˜Ÿ)</span><span class="prob" data-v-b84477be>98% æ¦‚ç‡</span></div><div class="treatment-box" data-v-b84477be><h5 data-v-b84477be><i class="fa fa-medkit" data-v-b84477be></i> æ¨èè¯å‰‚</h5><ul data-v-b84477be><li data-v-b84477be>75% ä¸‰ç¯å”‘å¯æ¹¿æ€§ç²‰å‰‚ (20-30g/äº©)</li><li data-v-b84477be>40% å¯Œå£«ä¸€å·ä¹³æ²¹</li></ul><div class="alert-box" data-v-b84477be> æ³¨æ„ï¼šè¯·åœ¨æ— é›¨å¤©æ°”æ–½è¯ï¼Œé¿å¼€é«˜æ¸©æ—¶æ®µã€‚ </div></div>',3)])])):(0,t.Q3)("",!0)])])):(0,t.Q3)("",!0)])])}s(4114),s(4603),s(7566),s(8721);var F={name:"AIDiseaseDetection",data(){return{activeTab:"aerial",files:[],singleImage:null,isAnalyzing:!1,resultReady:!1,singleResult:null,mapInstance:null,heatmapInstance:null,layers:{rgb:!0,heatmap:!0,grid:!1},prescriptionData:{id:"TASK-20231201-A",totalArea:150,dosage:{high:20,standard:100}}}},watch:{"layers.heatmap":function(a){this.heatmapInstance&&(a?this.heatmapInstance.show():this.heatmapInstance.hide())}},methods:{handleAerialFiles(a){this.files=[...this.files,...Array.from(a.target.files)]},handleDrop(a){this.files=[...this.files,...Array.from(a.dataTransfer.files)]},removeFile(a){this.files.splice(a,1)},handleSingleFile(a){const e=a.target.files[0];e&&(this.singleImage=URL.createObjectURL(e),setTimeout(()=>{this.singleResult={disease:"Rice Blast",prob:.98}},1e3))},startAnalysis(){this.isAnalyzing=!0,setTimeout(()=>{this.isAnalyzing=!1,this.resultReady=!0,this.$nextTick(()=>{this.initResultMap()})},1500)},initResultMap(){window.AMap&&(this.mapInstance=new window.AMap.Map("diseaseMap",{center:[113.32,23.12],zoom:16,mapStyle:"amap://styles/normal"}),window.AMap.Heatmap&&this.mapInstance.plugin(["AMap.Heatmap"],()=>{this.heatmapInstance=new window.AMap.Heatmap(this.mapInstance,{radius:25,opacity:[0,.8],gradient:{.5:"blue",.65:"rgb(117,211,248)",.7:"rgb(0, 255, 0)",.9:"#ffea00",1:"red"}});const a=[],e=[113.32,23.12];for(let s=0;s<100;s++)a.push({lng:e[0]+.01*(Math.random()-.5),lat:e[1]+.01*(Math.random()-.5),count:100*Math.random()});this.heatmapInstance.setDataSet({data:a,max:100})}))},sendToDrone(){alert(`æŒ‡ä»¤å·²ä¸‹å‘ï¼\nä»»åŠ¡ID: ${this.prescriptionData.id}\nç›®æ ‡è®¾å¤‡: å½“å‰åœ¨çº¿ T40 æœºç¾¤\nè¯·åœ¨é¥æ§å™¨ç¡®è®¤å¯åŠ¨ã€‚`)},exportPrescription(){alert("æ­£åœ¨ä¸‹è½½ SHP å¤„æ–¹æ–‡ä»¶...")},submitFeedback(a){alert(a?"æ„Ÿè°¢åé¦ˆï¼Œæ ·æœ¬å·²çº³å…¥å¼ºåŒ–è®­ç»ƒé›†ã€‚":"å·²æ ‡è®°ä¸ºè¯¯æŠ¥ï¼Œè¯·ä¸“å®¶è¿›è¡Œå¤æ ¸ã€‚")}}},M=s(1241);const S=(0,M.A)(F,[["render",E],["__scopeId","data-v-b84477be"]]);var z=S},8721:function(a,e,s){var t=s(3724),i=s(9504),l=s(2106),n=URLSearchParams.prototype,r=i(n.forEach);t&&!("size"in n)&&l(n,"size",{get:function(){var a=0;return r(this,function(){a++}),a},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=605.316fda6c.js.map