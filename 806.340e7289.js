"use strict";(self["webpackChunkfarmland_drone_dashboard"]=self["webpackChunkfarmland_drone_dashboard"]||[]).push([[806],{1806:function(e,t,l){l.r(t),l.d(t,{default:function(){return De}});var s=l(6768),a=l(5130),i=l(4232);const d={class:"field-management-container"},o={class:"field-management-content"},n={class:"toolbar"},r={class:"search-filter"},c={class:"stats-cards"},u={class:"stat-card"},p={class:"stat-content"},k={class:"stat-number"},v={class:"stat-card"},L={class:"stat-content"},h={class:"stat-number"},F={class:"stat-card"},b={class:"stat-content"},f={class:"stat-number"},m={class:"stat-card"},y={class:"stat-content"},g={class:"stat-number"},C={class:"field-list-section"},_={class:"field-table-container"},w={class:"field-table"},M={class:"field-actions"},T=["onClick"],A=["onClick"],x=["onClick"],E=["onClick"],I={key:0,class:"empty-state"},O={key:0,class:"modal"},Q={class:"modal-content"},X={class:"modal-header"},D={class:"modal-body"},H={class:"form-group"},U={class:"form-row"},V={class:"form-group"},S={class:"form-group"},q={class:"form-row"},J={class:"form-group"},K={class:"form-group"},N={class:"form-group"},$={class:"form-group"},B={class:"form-actions"},W={key:1,class:"modal"},j={class:"modal-content large"},z={class:"modal-header"},G={class:"modal-body"},P={class:"field-details-content"},R={class:"detail-section"},Y={class:"detail-grid"},Z={class:"detail-item"},ee={class:"detail-item"},te={class:"detail-item"},le={class:"detail-item"},se={class:"detail-item"},ae={class:"detail-item"},ie={class:"detail-item"},de={class:"detail-item"},oe={class:"detail-item full-width"},ne={class:"detail-section"},re={class:"planting-history"},ce={class:"history-period"},ue={class:"history-info"},pe={class:"history-crop"},ke={class:"history-details"},ve={key:0,class:"empty-history"},Le={class:"detail-section"},he={class:"recent-operations"},Fe={class:"operation-type"},be={class:"operation-date"},fe={key:0,class:"empty-operations"},me={class:"detail-section"},ye={class:"status-indicators"},ge={class:"status-item"},Ce={class:"status-value"},_e={class:"progress-bar"},we={class:"status-item"},Me={class:"status-value"},Te={class:"progress-bar"},Ae={class:"status-item"},xe={class:"status-value"},Ee={class:"progress-bar"};function Ie(e,t,l,Ie,Oe,Qe){return(0,s.uX)(),(0,s.CE)("div",d,[t[60]||(t[60]=(0,s.Lk)("div",{class:"page-header"},[(0,s.Lk)("h1",null,"农田管理"),(0,s.Lk)("p",null,"全面管理您的农田信息，实时掌握种植状况")],-1)),(0,s.Lk)("div",o,[(0,s.Lk)("div",n,[(0,s.Lk)("div",r,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>Oe.searchQuery=e),placeholder:"搜索农田名称或位置...",class:"search-input"},null,512),[[a.Jo,Oe.searchQuery]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Oe.cropFilter=e),class:"filter-select"},[...t[15]||(t[15]=[(0,s.Fv)('<option value="" data-v-0d8edd2b>全部作物类型</option><option value="水稻" data-v-0d8edd2b>水稻</option><option value="小麦" data-v-0d8edd2b>小麦</option><option value="玉米" data-v-0d8edd2b>玉米</option><option value="大豆" data-v-0d8edd2b>大豆</option><option value="棉花" data-v-0d8edd2b>棉花</option>',6)])],512),[[a.u1,Oe.cropFilter]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Oe.statusFilter=e),class:"filter-select"},[...t[16]||(t[16]=[(0,s.Lk)("option",{value:""},"全部状态",-1),(0,s.Lk)("option",{value:"种植中"},"种植中",-1),(0,s.Lk)("option",{value:"休耕"},"休耕",-1),(0,s.Lk)("option",{value:"收获中"},"收获中",-1)])],512),[[a.u1,Oe.statusFilter]])]),(0,s.Lk)("button",{class:"btn-add-field",onClick:t[3]||(t[3]=e=>Oe.showAddFieldModal=!0)},[...t[17]||(t[17]=[(0,s.Lk)("i",{class:"fa fa-plus"},null,-1),(0,s.eW)(" 添加新农田 ",-1)])])]),(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[t[19]||(t[19]=(0,s.Lk)("div",{class:"stat-icon field-icon"},[(0,s.Lk)("i",{class:"fa fa-map"})],-1)),(0,s.Lk)("div",p,[(0,s.Lk)("div",k,(0,i.v_)(Oe.fields.length),1),t[18]||(t[18]=(0,s.Lk)("div",{class:"stat-label"},"总农田数",-1))])]),(0,s.Lk)("div",v,[t[21]||(t[21]=(0,s.Lk)("div",{class:"stat-icon area-icon"},[(0,s.Lk)("i",{class:"fa fa-area-chart"})],-1)),(0,s.Lk)("div",L,[(0,s.Lk)("div",h,(0,i.v_)(Qe.totalArea.toFixed(2))+"亩",1),t[20]||(t[20]=(0,s.Lk)("div",{class:"stat-label"},"总面积",-1))])]),(0,s.Lk)("div",F,[t[23]||(t[23]=(0,s.Lk)("div",{class:"stat-icon active-icon"},[(0,s.Lk)("i",{class:"fa fa-leaf"})],-1)),(0,s.Lk)("div",b,[(0,s.Lk)("div",f,(0,i.v_)(Qe.activeFields),1),t[22]||(t[22]=(0,s.Lk)("div",{class:"stat-label"},"种植中",-1))])]),(0,s.Lk)("div",m,[t[25]||(t[25]=(0,s.Lk)("div",{class:"stat-icon alert-icon"},[(0,s.Lk)("i",{class:"fa fa-exclamation-triangle"})],-1)),(0,s.Lk)("div",y,[(0,s.Lk)("div",g,(0,i.v_)(Qe.alertFields),1),t[24]||(t[24]=(0,s.Lk)("div",{class:"stat-label"},"需要关注",-1))])])]),(0,s.Lk)("div",C,[t[32]||(t[32]=(0,s.Lk)("h2",null,"我的农田",-1)),(0,s.Lk)("div",_,[(0,s.Lk)("table",w,[t[30]||(t[30]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"农田名称"),(0,s.Lk)("th",null,"位置"),(0,s.Lk)("th",null,"面积"),(0,s.Lk)("th",null,"作物类型"),(0,s.Lk)("th",null,"当前状态"),(0,s.Lk)("th",null,"土壤类型"),(0,s.Lk)("th",null,"最近作业"),(0,s.Lk)("th",null,"操作")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Qe.filteredFields,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:(0,i.C4)({"field-alert":e.alert})},[(0,s.Lk)("td",null,(0,i.v_)(e.name),1),(0,s.Lk)("td",null,(0,i.v_)(e.location),1),(0,s.Lk)("td",null,(0,i.v_)(e.area)+"亩",1),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,i.C4)(["crop-tag",Qe.getCropClass(e.cropType)])},(0,i.v_)(e.cropType),3)]),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,i.C4)(["status-badge",Qe.getStatusClass(e.status)])},(0,i.v_)(e.status),3)]),(0,s.Lk)("td",null,(0,i.v_)(e.soilType),1),(0,s.Lk)("td",null,(0,i.v_)(e.lastOperation||"-"),1),(0,s.Lk)("td",null,[(0,s.Lk)("div",M,[(0,s.Lk)("button",{class:"btn-details",onClick:t=>Qe.viewFieldDetails(e)},[...t[26]||(t[26]=[(0,s.Lk)("i",{class:"fa fa-eye"},null,-1)])],8,T),(0,s.Lk)("button",{class:"btn-edit",onClick:t=>Qe.editField(e)},[...t[27]||(t[27]=[(0,s.Lk)("i",{class:"fa fa-pencil"},null,-1)])],8,A),(0,s.Lk)("button",{class:"btn-delete",onClick:t=>Qe.deleteField(e.id)},[...t[28]||(t[28]=[(0,s.Lk)("i",{class:"fa fa-trash"},null,-1)])],8,x),(0,s.Lk)("button",{class:"btn-task",onClick:t=>Qe.createTaskForField(e)},[...t[29]||(t[29]=[(0,s.Lk)("i",{class:"fa fa-calendar"},null,-1)])],8,E)])])],2))),128))])]),0===Qe.filteredFields.length?((0,s.uX)(),(0,s.CE)("div",I,[...t[31]||(t[31]=[(0,s.Lk)("i",{class:"fa fa-map-o"},null,-1),(0,s.Lk)("p",null,"没有找到符合条件的农田",-1)])])):(0,s.Q3)("",!0)])])]),Oe.showAddFieldModal||Oe.showEditFieldModal?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.Lk)("div",Q,[(0,s.Lk)("div",X,[(0,s.Lk)("h3",null,(0,i.v_)(Oe.showAddFieldModal?"添加新农田":"编辑农田信息"),1),(0,s.Lk)("button",{class:"close-btn",onClick:t[4]||(t[4]=(...e)=>Qe.closeModal&&Qe.closeModal(...e))},"×")]),(0,s.Lk)("div",D,[(0,s.Lk)("form",{onSubmit:t[13]||(t[13]=(0,a.D$)((...e)=>Qe.saveField&&Qe.saveField(...e),["prevent"]))},[(0,s.Lk)("div",H,[t[33]||(t[33]=(0,s.Lk)("label",null,"农田名称 *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>Oe.currentField.name=e),required:"",placeholder:"请输入农田名称"},null,512),[[a.Jo,Oe.currentField.name]])]),(0,s.Lk)("div",U,[(0,s.Lk)("div",V,[t[34]||(t[34]=(0,s.Lk)("label",null,"位置 *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>Oe.currentField.location=e),required:"",placeholder:"请输入农田位置"},null,512),[[a.Jo,Oe.currentField.location]])]),(0,s.Lk)("div",S,[t[35]||(t[35]=(0,s.Lk)("label",null,"面积(亩) *",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>Oe.currentField.area=e),required:"",min:"0.1",step:"0.1"},null,512),[[a.Jo,Oe.currentField.area,void 0,{number:!0}]])])]),(0,s.Lk)("div",q,[(0,s.Lk)("div",J,[t[37]||(t[37]=(0,s.Lk)("label",null,"作物类型 *",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>Oe.currentField.cropType=e),required:""},[...t[36]||(t[36]=[(0,s.Fv)('<option value="" data-v-0d8edd2b>请选择作物类型</option><option value="水稻" data-v-0d8edd2b>水稻</option><option value="小麦" data-v-0d8edd2b>小麦</option><option value="玉米" data-v-0d8edd2b>玉米</option><option value="大豆" data-v-0d8edd2b>大豆</option><option value="棉花" data-v-0d8edd2b>棉花</option><option value="其他" data-v-0d8edd2b>其他</option>',7)])],512),[[a.u1,Oe.currentField.cropType]])]),(0,s.Lk)("div",K,[t[39]||(t[39]=(0,s.Lk)("label",null,"土壤类型",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>Oe.currentField.soilType=e)},[...t[38]||(t[38]=[(0,s.Fv)('<option value="" data-v-0d8edd2b>请选择土壤类型</option><option value="壤土" data-v-0d8edd2b>壤土</option><option value="砂土" data-v-0d8edd2b>砂土</option><option value="粘土" data-v-0d8edd2b>粘土</option><option value="水稻土" data-v-0d8edd2b>水稻土</option>',5)])],512),[[a.u1,Oe.currentField.soilType]])])]),(0,s.Lk)("div",N,[t[41]||(t[41]=(0,s.Lk)("label",null,"当前状态 *",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>Oe.currentField.status=e),required:""},[...t[40]||(t[40]=[(0,s.Lk)("option",{value:"种植中"},"种植中",-1),(0,s.Lk)("option",{value:"休耕"},"休耕",-1),(0,s.Lk)("option",{value:"收获中"},"收获中",-1),(0,s.Lk)("option",{value:"已收获"},"已收获",-1)])],512),[[a.u1,Oe.currentField.status]])]),(0,s.Lk)("div",$,[t[42]||(t[42]=(0,s.Lk)("label",null,"备注信息",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[11]||(t[11]=e=>Oe.currentField.description=e),rows:"3",placeholder:"请输入备注信息"},null,512),[[a.Jo,Oe.currentField.description]])]),(0,s.Lk)("div",B,[(0,s.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[12]||(t[12]=(...e)=>Qe.closeModal&&Qe.closeModal(...e))},"取消"),t[43]||(t[43]=(0,s.Lk)("button",{type:"submit",class:"btn-save"},"保存",-1))])],32)])])])):(0,s.Q3)("",!0),Oe.showFieldDetails?((0,s.uX)(),(0,s.CE)("div",W,[(0,s.Lk)("div",j,[(0,s.Lk)("div",z,[(0,s.Lk)("h3",null,(0,i.v_)(Oe.selectedField.name)+" - 详细信息",1),(0,s.Lk)("button",{class:"close-btn",onClick:t[14]||(t[14]=e=>Oe.showFieldDetails=!1)},"×")]),(0,s.Lk)("div",G,[(0,s.Lk)("div",P,[(0,s.Lk)("div",R,[t[53]||(t[53]=(0,s.Lk)("h4",null,"基本信息",-1)),(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[t[44]||(t[44]=(0,s.Lk)("label",null,"农田名称",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.name),1)]),(0,s.Lk)("div",ee,[t[45]||(t[45]=(0,s.Lk)("label",null,"位置",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.location),1)]),(0,s.Lk)("div",te,[t[46]||(t[46]=(0,s.Lk)("label",null,"面积",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.area)+"亩",1)]),(0,s.Lk)("div",le,[t[47]||(t[47]=(0,s.Lk)("label",null,"作物类型",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.cropType),1)]),(0,s.Lk)("div",se,[t[48]||(t[48]=(0,s.Lk)("label",null,"土壤类型",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.soilType),1)]),(0,s.Lk)("div",ae,[t[49]||(t[49]=(0,s.Lk)("label",null,"当前状态",-1)),(0,s.Lk)("span",{class:(0,i.C4)(["status-badge",Qe.getStatusClass(Oe.selectedField.status)])},(0,i.v_)(Oe.selectedField.status),3)]),(0,s.Lk)("div",ie,[t[50]||(t[50]=(0,s.Lk)("label",null,"创建时间",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.createdAt),1)]),(0,s.Lk)("div",de,[t[51]||(t[51]=(0,s.Lk)("label",null,"最近更新",-1)),(0,s.Lk)("span",null,(0,i.v_)(Oe.selectedField.updatedAt),1)])]),(0,s.Lk)("div",oe,[t[52]||(t[52]=(0,s.Lk)("label",null,"备注信息",-1)),(0,s.Lk)("p",null,(0,i.v_)(Oe.selectedField.description||"无"),1)])]),(0,s.Lk)("div",ne,[t[54]||(t[54]=(0,s.Lk)("h4",null,"种植历史",-1)),(0,s.Lk)("div",re,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Oe.selectedField.plantingHistory,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"history-item"},[(0,s.Lk)("div",ce,(0,i.v_)(e.period),1),(0,s.Lk)("div",ue,[(0,s.Lk)("div",pe,(0,i.v_)(e.crop),1),(0,s.Lk)("div",ke,(0,i.v_)(e.details),1)])]))),128)),0===Oe.selectedField.plantingHistory.length?((0,s.uX)(),(0,s.CE)("div",ve," 暂无种植历史记录 ")):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",Le,[t[55]||(t[55]=(0,s.Lk)("h4",null,"最近作业记录",-1)),(0,s.Lk)("div",he,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(Oe.selectedField.recentOperations,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"operation-item"},[(0,s.Lk)("div",Fe,(0,i.v_)(e.type),1),(0,s.Lk)("div",be,(0,i.v_)(e.date),1),(0,s.Lk)("div",{class:(0,i.C4)(["operation-status","完成"===e.status?"success":"warning"])},(0,i.v_)(e.status),3)]))),128)),0===Oe.selectedField.recentOperations.length?((0,s.uX)(),(0,s.CE)("div",fe," 暂无作业记录 ")):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",me,[t[59]||(t[59]=(0,s.Lk)("h4",null,"农田状态",-1)),(0,s.Lk)("div",ye,[(0,s.Lk)("div",ge,[t[56]||(t[56]=(0,s.Lk)("div",{class:"status-label"},"健康指数",-1)),(0,s.Lk)("div",Ce,(0,i.v_)(Oe.selectedField.healthIndex)+"%",1),(0,s.Lk)("div",_e,[(0,s.Lk)("div",{class:"progress-fill",style:(0,i.Tr)({width:Oe.selectedField.healthIndex+"%",backgroundColor:Qe.getHealthColor(Oe.selectedField.healthIndex)})},null,4)])]),(0,s.Lk)("div",we,[t[57]||(t[57]=(0,s.Lk)("div",{class:"status-label"},"土壤湿度",-1)),(0,s.Lk)("div",Me,(0,i.v_)(Oe.selectedField.soilMoisture)+"%",1),(0,s.Lk)("div",Te,[(0,s.Lk)("div",{class:"progress-fill",style:(0,i.Tr)({width:Oe.selectedField.soilMoisture+"%",backgroundColor:Qe.getMoistureColor(Oe.selectedField.soilMoisture)})},null,4)])]),(0,s.Lk)("div",Ae,[t[58]||(t[58]=(0,s.Lk)("div",{class:"status-label"},"养分水平",-1)),(0,s.Lk)("div",xe,(0,i.v_)(Oe.selectedField.nutrientLevel)+"%",1),(0,s.Lk)("div",Ee,[(0,s.Lk)("div",{class:"progress-fill",style:(0,i.Tr)({width:Oe.selectedField.nutrientLevel+"%",backgroundColor:Qe.getNutrientColor(Oe.selectedField.nutrientLevel)})},null,4)])])])])])])])])):(0,s.Q3)("",!0)])}l(4114),l(8111),l(2489),l(8237);var Oe={name:"FarmFieldManagement",data(){return{fields:[],searchQuery:"",cropFilter:"",statusFilter:"",showAddFieldModal:!1,showEditFieldModal:!1,showFieldDetails:!1,currentField:{id:null,name:"",location:"",area:0,cropType:"",soilType:"",status:"种植中",description:"",alert:!1,lastOperation:"",createdAt:"",updatedAt:"",healthIndex:0,soilMoisture:0,nutrientLevel:0,plantingHistory:[],recentOperations:[]},selectedField:{}}},computed:{filteredFields(){return this.fields.filter(e=>{const t=e.name.toLowerCase().includes(this.searchQuery.toLowerCase())||e.location.toLowerCase().includes(this.searchQuery.toLowerCase()),l=!this.cropFilter||e.cropType===this.cropFilter,s=!this.statusFilter||e.status===this.statusFilter;return t&&l&&s})},totalArea(){return this.fields.reduce((e,t)=>e+t.area,0)},activeFields(){return this.fields.filter(e=>"种植中"===e.status).length},alertFields(){return this.fields.filter(e=>e.alert).length}},mounted(){this.loadFields()},methods:{loadFields(){this.fields=[{id:1,name:"试验田A区",location:"东区农田基地",area:50,cropType:"水稻",soilType:"水稻土",status:"种植中",alert:!1,lastOperation:"2024-01-15",createdAt:"2023-12-01",updatedAt:"2024-01-10",healthIndex:85,soilMoisture:65,nutrientLevel:78,description:"主要试验田，种植优质水稻品种",plantingHistory:[{id:101,period:"2023-Q4",crop:"水稻",details:"种植优质杂交水稻品种"},{id:102,period:"2023-Q3",crop:"小麦",details:"冬小麦种植实验"}],recentOperations:[{id:201,type:"病虫害防治",date:"2024-01-15",status:"完成"},{id:202,type:"灌溉作业",date:"2024-01-10",status:"完成"},{id:203,type:"施肥作业",date:"2024-01-05",status:"完成"}]},{id:2,name:"试验田B区",location:"西区农田基地",area:30,cropType:"小麦",soilType:"壤土",status:"种植中",alert:!0,lastOperation:"2024-01-12",createdAt:"2023-12-05",updatedAt:"2024-01-12",healthIndex:62,soilMoisture:45,nutrientLevel:60,description:"小麦种植试验区，需要关注土壤湿度",plantingHistory:[{id:103,period:"2023-Q4",crop:"小麦",details:"冬小麦新品种试验"}],recentOperations:[{id:204,type:"灌溉作业",date:"2024-01-12",status:"完成"},{id:205,type:"监测作业",date:"2024-01-10",status:"完成"}]},{id:3,name:"试验田C区",location:"南区农田基地",area:45,cropType:"玉米",soilType:"砂土",status:"休耕",alert:!1,lastOperation:"2023-12-20",createdAt:"2023-11-20",updatedAt:"2023-12-20",healthIndex:75,soilMoisture:55,nutrientLevel:70,description:"玉米试验田，当前休耕期",plantingHistory:[{id:104,period:"2023-Q3",crop:"玉米",details:"夏玉米高产试验"}],recentOperations:[{id:206,type:"土壤改良",date:"2023-12-20",status:"完成"}]},{id:4,name:"示范田D区",location:"北区农田基地",area:60,cropType:"大豆",soilType:"粘土",status:"收获中",alert:!1,lastOperation:"2024-01-18",createdAt:"2023-11-01",updatedAt:"2024-01-18",healthIndex:90,soilMoisture:60,nutrientLevel:85,description:"大豆示范田，高产优质",plantingHistory:[{id:105,period:"2023-Q4",crop:"大豆",details:"高蛋白大豆品种示范"}],recentOperations:[{id:207,type:"收获作业",date:"2024-01-18",status:"进行中"}]}]},openAddFieldModal(){this.resetCurrentField(),this.showAddFieldModal=!0},editField(e){this.currentField={...e},this.showEditFieldModal=!0},viewFieldDetails(e){this.selectedField={...e},this.showFieldDetails=!0},deleteField(e){if(confirm("确定要删除这个农田吗？")){const t=this.fields.findIndex(t=>t.id===e);t>-1&&(this.fields.splice(t,1),alert("农田删除成功"))}},saveField(){const e=(new Date).toISOString().split("T")[0];if(this.showAddFieldModal){const t={...this.currentField,id:Date.now(),createdAt:e,updatedAt:e,alert:!1,lastOperation:"",healthIndex:80,soilMoisture:60,nutrientLevel:70,plantingHistory:[],recentOperations:[]};this.fields.push(t),alert("农田添加成功")}else if(this.showEditFieldModal){const t=this.fields.findIndex(e=>e.id===this.currentField.id);t>-1&&(this.fields[t]={...this.fields[t],...this.currentField,updatedAt:e},alert("农田信息更新成功"))}this.closeModal()},closeModal(){this.showAddFieldModal=!1,this.showEditFieldModal=!1,this.resetCurrentField()},resetCurrentField(){this.currentField={id:null,name:"",location:"",area:0,cropType:"",soilType:"",status:"种植中",description:""}},createTaskForField(e){alert(`为${e.name}创建作业任务`)},getCropClass(e){const t={"水稻":"crop-rice","小麦":"crop-wheat","玉米":"crop-corn","大豆":"crop-soybean","棉花":"crop-cotton"};return t[e]||"crop-other"},getStatusClass(e){const t={"种植中":"status-active","休耕":"status-idle","收获中":"status-harvesting","已收获":"status-completed"};return t[e]||""},getHealthColor(e){return e>=80?"#28a745":e>=60?"#ffc107":"#dc3545"},getMoistureColor(e){return e>=60&&e<=80?"#28a745":e>=40||e<=90?"#ffc107":"#dc3545"},getNutrientColor(e){return e>=70?"#28a745":e>=50?"#ffc107":"#dc3545"}}},Qe=l(1241);const Xe=(0,Qe.A)(Oe,[["render",Ie],["__scopeId","data-v-0d8edd2b"]]);var De=Xe}}]);
//# sourceMappingURL=806.340e7289.js.map